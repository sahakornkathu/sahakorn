<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>

<body class="bg-blue-50 p-6 text-slate-800">
<div class="max-w-7xl mx-auto space-y-6">

<!-- ===== SUMMARY ===== -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
  <div class="summary green"><div>‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</div><div id="count-member" class="num">0</div></div>
  <div class="summary orange"><div>‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</div><div id="count-resign" class="num">0</div></div>
  <div class="summary red"><div>‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</div><div id="count-dead" class="num">0</div></div>
</div>

<!-- ===== FORM ===== -->
<form id="memberForm" class="box space-y-4">
<h2 class="title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>

<div class="grid grid-cols-1 md:grid-cols-4 gap-3">
  <div class="field"><label>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label><input id="member_id" type="number" required></div>
  <div class="field"><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label><input id="join_date" type="date"></div>
  <div class="field"><label>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</label>
    <select id="title"><option value="">--</option><option>‡∏ô‡∏≤‡∏¢</option><option>‡∏ô‡∏≤‡∏á</option><option>‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß</option></select>
  </div>
  <div class="field"><label>‡∏Å‡∏•‡∏∏‡πà‡∏°</label><input id="group"></div>

  <div class="field"><label>‡∏ä‡∏∑‡πà‡∏≠</label><input id="first_name"></div>
  <div class="field"><label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input id="last_name"></div>
  <div class="field"><label>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label><input id="id_card"></div>
  <div class="field"><label>‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label><input id="birthday" type="date"></div>

  <div class="field"><label>‡πÄ‡∏û‡∏®</label>
    <select id="gender"><option value="">--</option><option>‡∏ä‡∏≤‡∏¢</option><option>‡∏´‡∏ç‡∏¥‡∏á</option></select>
  </div>
  <div class="field"><label>‡∏≠‡∏≤‡∏¢‡∏∏</label><input id="age" type="number"></div>

  <div class="field"><label>‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</label><input id="house_no"></div>
  <div class="field"><label>‡∏´‡∏°‡∏π‡πà</label><input id="moo"></div>
  <div class="field"><label>‡∏ñ‡∏ô‡∏ô</label><input id="street"></div>
  <div class="field"><label>‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô</label><input id="village"></div>

  <div class="field"><label>‡∏ï‡∏≥‡∏ö‡∏•</label><input id="subdistrict"></div>
  <div class="field"><label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</label><input id="district"></div>
  <div class="field"><label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label><input id="province"></div>
  <div class="field"><label>‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label><input id="postal_code"></div>

  <div class="field"><label>‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label><input id="phone"></div>
  <div class="field"><label>‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á</label><input id="phone_alt"></div>

  <div class="field"><label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label>
    <select id="member_status"><option value="">--</option><option>‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</option><option>‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</option><option>‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</option></select>
  </div>

  <div class="field"><label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏£‡∏™</label>
    <select id="marital_status"><option value="">--</option><option>‡πÇ‡∏™‡∏î</option><option>‡∏™‡∏°‡∏£‡∏™</option></select>
  </div>

  <div class="field"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™</label><input id="spouse_name"></div>
  <div class="field"><label>‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏¢‡∏ó.</label><input id="kyot_member"></div>
  <div class="field"><label>‡πÄ‡∏•‡∏Ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏¢‡∏ó.</label><input id="kyot_member_id"></div>
  <div class="field"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏¥‡∏î‡∏≤</label><input id="father_name"></div>
  <div class="field"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≤‡∏£‡∏î‡∏≤</label><input id="mother_name"></div>
</div>

<div class="flex gap-4">
  <button class="btn blue" type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
  <button class="btn gray" type="button" onclick="resetForm()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
</div>
</form>

<!-- ===== FILTER + EXPORT ===== -->
<div class="box space-y-3">
<h2 class="title text-center">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ / Export</h2>

<div class="grid grid-cols-1 md:grid-cols-9 gap-3">
  <input id="f_member_id" class="input" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å">
  <input id="f_first_name" class="input" placeholder="‡∏ä‡∏∑‡πà‡∏≠">
  <input id="f_last_name" class="input" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
  <input id="f_group" class="input" placeholder="‡∏Å‡∏•‡∏∏‡πà‡∏°">
  <input id="f_phone" class="input" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
  <select id="f_gender" class="input"><option value="">‡πÄ‡∏û‡∏®</option><option>‡∏ä‡∏≤‡∏¢</option><option>‡∏´‡∏ç‡∏¥‡∏á</option></select>
  <select id="f_status" class="input"><option value="">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</option><option>‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</option><option>‡∏•‡∏≤‡∏≠‡∏≠‡∏Å</option><option>‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</option></select>
  <button class="btn gray" onclick="clearFilters()">‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≠‡∏á</button>
  <button class="btn green" onclick="exportExcel()">Export Excel</button>
</div>

<div class="text-center">‡∏û‡∏ö <b><span id="resultCount">0</span></b> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
</div>

<!-- ===== TABLE ===== -->
<div class="box">
<table class="w-full text-sm text-center">
<thead class="bg-blue-100">
<tr>
  <th>‡∏£‡∏´‡∏±‡∏™</th>
  <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
  <th>‡∏Å‡∏•‡∏∏‡πà‡∏°</th>
  <th>‡πÇ‡∏ó‡∏£</th>
  <th>‡πÄ‡∏û‡∏®</th>
  <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
  <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
</tr>
</thead>
<tbody id="rows"></tbody>
</table>

<div class="flex justify-between mt-4">
  <button onclick="prevPage()" class="btn gray">‚óÄ</button>
  <span id="pageInfo"></span>
  <button onclick="nextPage()" class="btn gray">‚ñ∂</button>
</div>
</div>

</div>

<script type="module">
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'

const SUPABASE_URL = 'https://ttottijljxoinptmhgtu.supabase.co'
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0b3R0aWpsanhvaW5wdG1oZ3R1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMTYxODQsImV4cCI6MjA3MzU5MjE4NH0.XnIf3xLzSbZDwFVKWjLTCiF4jnnDMQ1W95EI-v6F-3Y'
const db = createClient(SUPABASE_URL, SUPABASE_KEY)

const PAGE_SIZE = 15
let page = 1
let totalCount = 0
let debounceTimer = null
let editingMemberId = null   // ‚≠ê ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå‡πÅ‡∏ñ‡∏ß

const form = document.getElementById('memberForm')
const rows = document.getElementById('rows')

const fMemberId = document.getElementById('f_member_id')
const fFirst = document.getElementById('f_first_name')
const fLast  = document.getElementById('f_last_name')
const fGroup = document.getElementById('f_group')
const fPhone = document.getElementById('f_phone')
const fGender= document.getElementById('f_gender')
const fStatus= document.getElementById('f_status')

/* ===== helper ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå ===== */
function buildExportFileName(){
  const parts=[]
  if(fMemberId.value) parts.push(`‡∏£‡∏´‡∏±‡∏™${fMemberId.value}`)
  if(fFirst.value) parts.push(`‡∏ä‡∏∑‡πà‡∏≠${fFirst.value}`)
  if(fLast.value) parts.push(`‡∏™‡∏Å‡∏∏‡∏•${fLast.value}`)
  if(fGroup.value) parts.push(`‡∏Å‡∏•‡∏∏‡πà‡∏°${fGroup.value}`)
  if(fPhone.value) parts.push(`‡πÇ‡∏ó‡∏£${fPhone.value}`)
  if(fGender.value) parts.push(`‡πÄ‡∏û‡∏®${fGender.value}`)
  if(fStatus.value) parts.push(`‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞${fStatus.value}`)
  if(parts.length===0) return '‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å_‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î.xlsx'
  return `‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å_${parts.join('_').replace(/[^\u0E00-\u0E7Fa-zA-Z0-9_]/g,'')}.xlsx`
}

/* ===== CLEAR FILTER ===== */
window.clearFilters = ()=>{
  fMemberId.value=''
  fFirst.value=''
  fLast.value=''
  fGroup.value=''
  fPhone.value=''
  fGender.value=''
  fStatus.value=''
  page=1
  loadMembers()
}

/* ===== SUMMARY ===== */
async function loadSummary(){
  document.getElementById('count-member').innerText =
    (await db.from('members').select('member_id',{count:'exact',head:true}).eq('member_status','‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å')).count||0
  document.getElementById('count-resign').innerText =
    (await db.from('members').select('member_id',{count:'exact',head:true}).eq('member_status','‡∏•‡∏≤‡∏≠‡∏≠‡∏Å')).count||0
  document.getElementById('count-dead').innerText =
    (await db.from('members').select('member_id',{count:'exact',head:true}).eq('member_status','‡πÄ‡∏™‡∏µ‡∏¢‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï')).count||0
}

/* ===== SUBMIT ===== */
form.addEventListener('submit',async e=>{
  e.preventDefault()
  const data={}
  Array.from(form.elements).forEach(el=>{ if(el.id) data[el.id]=el.value||null })
  await db.from('members').upsert([data],{onConflict:'member_id'})
  resetForm()
  loadMembers()
  loadSummary()
})

window.resetForm = ()=>{
  form.reset()
  editingMemberId = null
  loadMembers()
}

/* ===== LOAD MEMBERS ===== */
async function loadMembers(){
  let q=db.from('members')
    .select('member_id,first_name,last_name,group,phone,gender,member_status',{count:'exact'})
    .order('member_id')

  if(fMemberId.value) q=q.eq('member_id',fMemberId.value)
  if(fFirst.value) q=q.ilike('first_name','%'+fFirst.value+'%')
  if(fLast.value) q=q.ilike('last_name','%'+fLast.value+'%')
  if(fGroup.value) q=q.ilike('group','%'+fGroup.value+'%')
  if(fPhone.value) q=q.ilike('phone','%'+fPhone.value+'%')
  if(fGender.value) q=q.eq('gender',fGender.value)
  if(fStatus.value) q=q.eq('member_status',fStatus.value)

  const from=(page-1)*PAGE_SIZE
  const to=from+PAGE_SIZE-1
  const {data,count}=await q.range(from,to)

  totalCount=count||0
  document.getElementById('resultCount').innerText=totalCount
  document.getElementById('pageInfo').innerText=
    `‡∏´‡∏ô‡πâ‡∏≤ ${page} / ${Math.max(1,Math.ceil(totalCount/PAGE_SIZE))}`

  rows.innerHTML=''
  data.forEach(m=>{
    const isEditing = m.member_id === editingMemberId
    rows.innerHTML+=`
    <tr class="border-b ${isEditing ? 'bg-yellow-100 ring-2 ring-yellow-400' : 'hover:bg-blue-50'}">
      <td class="py-2">${m.member_id}</td>
      <td>${m.first_name||''} ${m.last_name||''}</td>
      <td>${m.group||''}</td>
      <td>${m.phone||''}</td>
      <td>${m.gender||''}</td>
      <td>${m.member_status||''}</td>
      <td class="space-x-2">
        <button class="link" onclick="editMember(${m.member_id})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
        <button class="link text-red-600" onclick="deleteMember(${m.member_id})">‡∏•‡∏ö</button>
      </td>
    </tr>`
  })
}

/* ===== EDIT / DELETE ===== */
window.editMember = async id=>{
  editingMemberId = id
  const {data}=await db.from('members').select('*').eq('member_id',id).single()
  Array.from(form.elements).forEach(el=>{ if(el.id) el.value=data[el.id]||'' })
  loadMembers()
}

window.deleteMember = async id=>{
  if(!confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏£‡∏´‡∏±‡∏™ '+id)) return
  await db.from('members').delete().eq('member_id',id)
  editingMemberId = null
  loadMembers()
  loadSummary()
}

/* ===== PAGINATION ===== */
window.nextPage=()=>{ if(page*PAGE_SIZE<totalCount){page++;loadMembers()} }
window.prevPage=()=>{ if(page>1){page--;loadMembers()} }

/* ===== AUTO FILTER ===== */
;[fMemberId,fFirst,fLast,fGroup,fPhone,fGender,fStatus].forEach(el=>{
  el.addEventListener('input',()=>{
    clearTimeout(debounceTimer)
    debounceTimer=setTimeout(()=>{page=1;loadMembers()},300)
  })
})

/* ===== EXPORT EXCEL ===== */
window.exportExcel = async ()=>{
  let q=db.from('members').select('*').order('member_id')
  if(fMemberId.value) q=q.eq('member_id',fMemberId.value)
  if(fFirst.value) q=q.ilike('first_name','%'+fFirst.value+'%')
  if(fLast.value) q=q.ilike('last_name','%'+fLast.value+'%')
  if(fGroup.value) q=q.ilike('group','%'+fGroup.value+'%')
  if(fPhone.value) q=q.ilike('phone','%'+fPhone.value+'%')
  if(fGender.value) q=q.eq('gender',fGender.value)
  if(fStatus.value) q=q.eq('member_status',fStatus.value)

  const {data}=await q
  if(!data||!data.length){alert('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ export');return}

  const thaiData=data.map(r=>({
    '‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å':r.member_id,
    '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£':r.join_date,
    '‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤':r.title,
    '‡∏ä‡∏∑‡πà‡∏≠':r.first_name,
    '‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•':r.last_name,
    '‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô':r.id_card,
    '‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î':r.birthday,
    '‡∏Å‡∏•‡∏∏‡πà‡∏°':r.group,
    '‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà':r.house_no,
    '‡∏´‡∏°‡∏π‡πà':r.moo,
    '‡∏ñ‡∏ô‡∏ô':r.street,
    '‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô':r.village,
    '‡∏ï‡∏≥‡∏ö‡∏•':r.subdistrict,
    '‡∏≠‡∏≥‡πÄ‡∏†‡∏≠':r.district,
    '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î':r.province,
    '‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå':r.postal_code,
    '‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå':r.phone,
    '‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á':r.phone_alt,
    '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å':r.member_status,
    '‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏™‡∏°‡∏£‡∏™':r.marital_status,
    '‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™':r.spouse_name,
    '‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏¢‡∏ó.':r.kyot_member,
    '‡πÄ‡∏•‡∏Ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ‡∏Å‡∏¢‡∏ó.':r.kyot_member_id,
    '‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏¥‡∏î‡∏≤':r.father_name,
    '‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≤‡∏£‡∏î‡∏≤':r.mother_name,
    '‡πÄ‡∏û‡∏®':r.gender,
    '‡∏≠‡∏≤‡∏¢‡∏∏':r.age,
    '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á':r.created_at,
    '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î':r.updated_at,
    'LINE User ID':r.line_user_id,
    '‡∏ä‡∏∑‡πà‡∏≠ LINE':r.line_display_name,
    '‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå LINE':r.line_picture
  }))

  const ws=XLSX.utils.json_to_sheet(thaiData)
  const wb=XLSX.utils.book_new()
  XLSX.utils.book_append_sheet(wb,ws,'‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å')
  XLSX.writeFile(wb, buildExportFileName())
}

loadMembers()
loadSummary()
</script>

<style>
body{
  background:#020617;
  color:#e5e7eb;
}

/* ===== BOX / CARD ===== */
.box{
  background:#0f172a;
  border:1px solid #334155;
  border-radius:16px;
  padding:16px;
}

/* ===== TITLE ===== */
.title{
  color:#38bdf8;
  font-weight:700;
  font-size:20px;
  text-align:center;
}

/* ===== INPUT / SELECT ===== */
.input,
.field input,
.field select{
  background:#020617;
  border:1px solid #334155;
  color:#fff;
  border-radius:8px;
  padding:6px 8px;
}

.input:focus,
.field input:focus,
.field select:focus{
  outline:none;
  border-color:#38bdf8;
}

/* ===== FIELD LAYOUT ===== */
.field{
  display:flex;
  align-items:center;
  gap:8px;
}
.field label{
  width:120px;
  font-size:13px;
  color:#cbd5f5;
}

/* ===== BUTTON ===== */
.btn{
  padding:6px 16px;
  border-radius:10px;
  font-weight:500;
}
.btn.blue{background:#2563eb;color:#fff}
.btn.gray{background:#475569;color:#fff}
.btn.green{background:#16a34a;color:#fff}

/* ===== LINK ===== */
.link{
  color:#60a5fa;
  cursor:pointer;
}
.link:hover{color:#93c5fd}
.link.text-red-600{color:#f87171}

/* ===== SUMMARY ===== */
.summary{
  background: linear-gradient(135deg,#020617,#0f172a);
  border:1px solid;
  border-radius:16px;
  padding:12px;
  text-align:center;
}
.summary .num{
  font-size:28px;
  font-weight:700;
}
.green{border-color:#22c55e;color:#22c55e}
.orange{border-color:#f97316;color:#fb923c}
.red{border-color:#ef4444;color:#f87171}

/* ===== FIX ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏≤‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ ===== */
html, body {
  background:#020617 !important;
}

.max-w-7xl,
body > div {
  background: transparent !important;
}

/* ===== TABLE ===== */
table{
  background:#0f172a !important;
  color:#e5e7eb;
}

thead{
  background:#020617 !important;
}

tbody tr{
  background:#0f172a;
  border-bottom:1px solid #334155;
}

tbody tr:hover{
  background:#020617;
}

/* ===== HIGHLIGHT ROW (‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á) ===== */
tr.highlight,
tr.bg-white,
tr.bg-gray-100{
  background:#7c2d12 !important;   /* ‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏° */
}

/* üëâ ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏™‡∏µ‡∏î‡∏≥ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå */
tr.highlight td{
  color:#000 !important;
  font-weight:600;
}

/* üëâ ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå */
tr.highlight .link{
  color:#000 !important;
  text-decoration:underline;
}
  /* ===== FIX ‡∏à‡∏£‡∏¥‡∏á : ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ===== */
tr.highlight,
tr.bg-black {
  background: #7c2d12 !important;   /* ‡∏™‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏° */
}

/* ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå */
tr.highlight td,
tr.bg-white td {
  color: #000 !important;           /* ‡∏î‡∏≥ */
  font-weight: 600;
}

/* ‡∏•‡∏¥‡∏á‡∏Å‡πå ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç / ‡∏•‡∏ö ‡πÉ‡∏ô‡πÅ‡∏ñ‡∏ß‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå */
tr.highlight td .link,
tr.bg-white td .link {
  color: #000 !important;
  text-decoration: underline;
}

/* ‡∏Å‡∏±‡∏ô Tailwind ‡πÉ‡∏™‡πà‡∏™‡∏µ‡∏à‡∏≤‡∏á */
tr.highlight td *,
tr.bg-white td * {
  color: #000 !important;
}

</style>

</body>
</html>
